---
title: Ecotone Network Upgrade
lang: en-US
description: Details on how to prepare your nodes for the Ecotone Network upgrade.
---

import { Callout } from 'nextra/components'

# Ecotone Network Upgrade

<Callout type="warning">
  The Ecotone testnet network upgrade for OP Goerli activated at **1707238800 Tue Feb 6 17:00:00 UTC 2024**. The Ecotone upgrade for OP Sepolia is not scheduled yet.
</Callout>

The following information is how you can prepare your nodes for the Ecotone upgrade. There
is a new Beacon endpoint for `op-node`, because soon after the Ecotone activation, batch
transactions will be sent as 4844 blobs, and blobs can only be retrieved from Beacon nodes.
This means node operators will need access to a [consensus client](https://ethereum.org/developers/docs/nodes-and-clients#consensus-clients) (i.e. Lighthouse, Lodestar, Nimbus, Prysm, Teku, etc.).

<Callout type="info">
  If you're using Lighthouse, make sure to use at least the finalized version `v4.6.0`
  because the latest rc contains a bug in its `blob_sidecars` http endpoint.
</Callout>

## Upgrade Your Nodes and Set Beacon Value (All Nodes)

These steps are necessary for EVERY node operator:

1.  Update to the newest releases of [`op-geth`](https://github.com/ethereum-optimism/op-geth/releases/tag/v1.101305.3) and [`op-node`](https://github.com/ethereum-optimism/optimism/releases/tag/v1.5.0).
2.  Set the [L1 beacon value](/builders/node-operators/management/configuration#l1beacon) in your `op-node` with the address of your L1 Beacon-node HTTP endpoint.

<Callout type="warning">
  You must set an L1 beacon value ASAP as soon as you update to the latest release.
  If Ecotone activates before you've set a beacon value, then your node will crash.
</Callout>

```shell
--l1.beacon value                                                      ($OP_NODE_L1_BEACON)
          Address of L1 Beacon-node HTTP endpoint to use.
```

3.  Either run your own L1 beacon node or configure to use an external RPC like [QuickNode](https://www.quicknode.com/docs/ethereum/eth-v1-beacon-genesis).

## Enable Snapsync/EL Sync (Full Nodes)

For full nodes, the fastest way to get up and running is by enabling snapsync/EL sync. Use the following steps to get started:

1.  Enable [`â€”syncmode=execution-layer`](../management/configuration#configuring-op-node) on `op-node`. This essentially tells `op-node` not to sync from L1 Data because the execution layer has been configured to sync on its own.
2.  Enable [`syncmode=snap`](../management/configuration#configuration) on `op-geth`.

<Callout>
  If you're running a full node without EL sync, follow the next step to [configure a blob archiver](#configure-a-blob-archiver-archive-nodes).
</Callout>

## Configure a Blob Archiver (Archive Nodes)

There are several blob archiver options for archive nodes and new full notes without EL sync. Choose one of the following options:

*   **Option 1:** Configure a blob archiver. You will need an [RPC endpoint](/chain/networks) for this option.
*   **Option 2:** Configure your own beacon node to retain all blobs to not rely on a blob archiver or use an external RPC provider that runs blob-retaining beacon nodes [like QuickNode](https://www.quicknode.com/docs/ethereum/eth-v1-beacon-genesis).
*   **Option 3:** Archive nodes can use a snapshot within the last 18 days and not use the blob archiver at all. You must configure the L1 Beacon endpoint on `op-node`, but if L1 beacon endpoint doesn't have the blobs, fall back to blob archiver.

## Verify Your Configuration on OP Goerli

You can verify your node is configured correctly with the following:

*   `op-node` and `op-geth` will log their configurations at startup
*   Check that Ecotone time is set to `1707238800` in the op-node logs
*   Check that Ecotone and Cancun time is set to `1707238800` in the op-geth logs

## Additional Support

If you require additional support. Please reach out on our [developer forum](https://github.com/ethereum-optimism/developers/discussions) and we'll answer your questions there.
