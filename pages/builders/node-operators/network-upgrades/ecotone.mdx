---
title: Ecotone Network Upgrade
lang: en-US
description: Details on how to prepare your nodes for the Ecotone Network upgrade.
---

import { Callout } from 'nextra/components'

# Ecotone Network Upgrade

The following information is how you can prepare your nodes for the Ecotone upgrade. There
is a new Beacon endpoint for `op-node`, because soon after the Ecotone activation, batch
transactions will be sent as 4844 blobs, and blobs can only be retrieved from Beacon nodes.
This means node operators will need access to a [consensus client](https://ethereum.org/developers/docs/nodes-and-clients#consensus-clients) (i.e. Lighthouse, Lodestar, Nimbus, Prysm, Teku, etc.).

<Callout type="info">
  If you're using Lighthouse, make sure to use at least the finalized version `v4.6.0`
  because the latest rc contains a bug in its `blob_sidecars` http endpoint.
</Callout>

## Mainnet Information

<Callout type="warning">
  You must set an L1 beacon value ASAP as soon as you update to the latest release.
  If Ecotone activates before you've set a beacon value, then your node will crash.
</Callout>

### Set an L1 Beacon Value (All Nodes)

You must start the Ecotone upgrade by configuring the L1 Beacon value in your `op-node`. **This step is necessary for EVERY node operator.**

```shell
--l1.beacon value                                                      ($OP_NODE_L1_BEACON)
          Address of L1 Beacon-node HTTP endpoint to use.
```

For the next step, you will either [enable snapsync](#enable-snapsyncel-sync-full-nodes) OR [configure a blob archiver](#configure-a-blob-archiver-archive-nodes), based on the type of node you are running.

### Enable Snapsync/EL Sync (Full Nodes)

For full nodes, the fastest way to get up and running is by enabling snapsync/EL sync. Use the following steps to get started:

1.  Enable [syncmode to EL Sync](../management/configuration#configuring-op-node) on `op-node`. This essentially tells `op-node` to not do anything to sync from L1 Data because the execution layer has been configured to sync on its own.
2.  Enable [`syncmode=snap`](../management/configuration#configuration) on `op-geth`.

<Callout>
  If you're running a full node without EL sync, follow the next step to [configure a blob archiver](#configure-a-blob-archiver-archive-nodes).
</Callout>

### Configure a Blob Archiver (Archive Nodes)

There are several blob archiver options for archive nodes and new full notes without EL sync. Choose one of the following options:

*   **Option 1:** Configure a blob archiver. You will need an [RPC endpoint](/chain/networks) for this option.
*   **Option 2:** Configure your beacon node to retain all blobs to not rely on a blob archiver.
*   **Option 3:** Archive nodes can use a snapshot within the last 18 days and not use the blob archiver at all. You must configure the L1 Beacon endpoint on `op-node`, but if L1 beacon endpoint doesn't have the blobs, fall back to blob archiver.

## Testnet Information

<Callout type="warning">
  The Ecotone testnet network upgrade for OP Goerli will activate at **1707238800 Tue Feb 6 17:00:00 UTC 2024**.
</Callout>

<Callout type="info">
  The Ecotone testnet network upgrade for OP Sepolia is not scheduled yet.
</Callout>

### Required Action

You must upgrade your nodes to the following versions prior to Tue Feb 6 17:00:00 UTC 2024.

*   Upgrade your `op-geth` to version: [v1.101305.3](https://github.com/ethereum-optimism/op-geth/releases/tag/v1.101305.3)
*   Upgrade your `op-node` to version: [v1.5.0](https://github.com/ethereum-optimism/optimism/releases/tag/v1.5.0)
*   Configure [--l1.beacon / $OP\_NODE\_L1\_BEACON](/builders/node-operators/management/configuration#l1beacon) with the address of your L1 Beacon-node HTTP endpoint to use.

### Verifying Your Configuration on OP Goerli

You can verify your node is configured correctly with the following:

*   `op-node` and `op-geth` will log their configurations at startup
*   Check that Ecotone time is set to `1707238800` in the op-node logs
*   Check that Ecotone and Cancun time is set to `1707238800` in the op-geth logs

## Additional Support

If you require additional support. Please reach out on our [developer forum](https://github.com/ethereum-optimism/developers/discussions) and we'll answer your questions there.
