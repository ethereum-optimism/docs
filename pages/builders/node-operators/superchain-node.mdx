---
title: How to Run a Node on a Superchain Network
lang: en-US
description: Learn how to run a node on a Superchain network with base configuration.
---

import { Callout, Steps } from 'nextra/components'

# How to Run a Node on a Superchain Network

This guide provides an overview of how to run a node on a Superchain network with base or standard configuration. It walks you through how to build, configure, run, and monitor your node. To skip ahead to building and running a node, you can explore the [node operator tutorials](#node-operator-tutorials).

## Build Your Node

There are two main steps to get started building your own node: learn fundamental components of an OP Node and spin up your first node.

<Steps>
  {<h3>Learn Fundamental Components of OP Nodes</h3>}

  To work with OP Nodes, you'll need to understand the fundamental components of OP Nodes.

  *   **Node Architecture**: OP Nodes use the rollup node and execution client and can also support legacy geth. For more details, see the [Node Architecture](/builders/node-operators/architecture) guide.
  *   **Activation Timestamps**: Network upgrades for OP Nodes are [activated by timestamps](/builders/node-operators/network-upgrades#activations). Failing to upgrade your node before the timestamp causes a chain divergence, requiring you to resync your node to reconcile the chain. Follow the established [Node Upgrade Process](/builders/node-operators/network-upgrades#upgrade-process) to avoid chain divergence.

  <Callout type="info">
    If you are building an archive node, then you'll need to access a data directory and [node snapshot](/builders/node-operators/management/snapshots). These are **not required** for nodes using [snap sync](/builders/node-operators/management/snap-sync).
  </Callout>

  {<h3>Build Your OP Node for the Superchain</h3>}

  Now, you are ready to build your OP Node. You have two options for this:

  *   **Option 1:** Follow the [Running a Node with Docker](/builders/node-operators/tutorials/node-from-docker) tutorial, which walks you through the complete process of **building** and **running** your OP node.
  *   **Option 2:** Follow the [Building a Node from Source](/builders/node-operators/tutorials/node-from-source) tutorial, if you need to use a specific architecture or want to inspect the source code of your OP node. NOTE: This option requires a separate step to run your OP node from source for [OP Mainnet](/builders/node-operators/tutorials/mainnet) or [OP Sepolia](/builders/node-operators/tutorials/testnet).
</Steps>

## Configure Your Node

OP Nodes can be configured for custom architecture, individual needs, and other tradeoffs. The following steps are intended for base configuration of OP Nodes, along with recommended flags.

<Steps>
  {<h3>Setup Base Config for `op-geth`</h3>}

  We'll start with `op-geth` first because later on, you'll need to point `op-node` to the correct L1, `op-geth`, and L2 network.

  *   Before you can configure `op-geth`, you must first initialize it with one of 3 options: [genesis file](/builders/node-operators/configuration/base-config#initialization-via-genesis-file-op-sepolia-nodes), [data directory](/builders/node-operators/configuration/base-config#initialization-via-data-directory-op-mainnet-nodes), or [network flags](/builders/node-operators/configuration/base-config#initialization-via-network-flags).
  *   Configure `op-geth` using the [base configuration](/builders/node-operators/configuration/base-config#working-base-configuration).
  *   Set the [Recommended Flags for `op-geth`](/builders/node-operators/configuration/base-config#recommended-flags-for-op-geth-configuration) to follow best practices for configuring OP Nodes.

  {<h3>Setup Base Config for `op-node`</h3>}

  `op-node` is standalone, stores no state, and requires no initialization.

  <Callout type="info">
    For some networks, the Rollup Node also requires a configuration file (called rollup.json or the "rollup config") that configures network-specific genesis parameters.
  </Callout>

  *   Configure `op-node` using the [base configuration](/builders/node-operators/configuration/base-config#working-base-configuration-1).
  *   Setup `op-node` for [peer networking](/builders/node-operators/configuration/base-config#configuring-peer-to-peer-networking) using default port `9003`.

  {<h3>Make Standard Node Configurations</h3>}

  *   Set an L1 beacon value in your `op-node` to retrieve [blobs](/builders/node-operators/management/blobs) from a beacon node.
  *   Enable [snap sync](/builders/node-operators/management/snap-sync) for your node to significantly improve the experience and speed of syncing an OP Stack node.

  <Callout type="info">
    Additional configuration options exist for [`op-geth`](/builders/node-operators/configuration/geth-config) and [`op-node`](/builders/node-operators/configuration/node-config), respectively.
  </Callout>
</Steps>

## Run Your Node

Now, you will run your node and set your node debugging log level for more granular feedback.

<Steps>
  {<h3>Run Your Node From Source</h3>}

  Skip this step if you followed the tutorial for [Running a Node with Docker](/builders/node-operators/tutorials/node-from-docker). Otherwise, you will now run your node from source for either OP Mainnet or OP Sepolia. Here are your options.

  <Callout type="warning">
    The tutorial [Building a Node from Source](/builders/node-operators/tutorials/node-from-source) is a **pre-requisite** to running your node from source and must be completed first.
  </Callout>

  *   Option 1: Follow the [Running an OP Sepolia Node from Source](/builders/node-operators/tutorials/testnet) tutorial if you'd like to test your node before deploying to Mainnet.
  *   Option 2: Follow the [Running an OP Mainnet Node from Source](/builders/node-operators/tutorials/mainnet) tutorial if you plan to run a full node or archive node.

  {<h3>Update Node Debugging Log Level</h3>}

  As part of running your OP Node, you'll want to see more granular feedback when debugging and have access to solutions for common node operator errors.

  *   Update node debugging [log level](https://docs.optimism.io/builders/node-operators/management/configuration#loglevel) to 4 or above. For more details, see the guide on [Geth Logs](https://geth.ethereum.org/docs/fundamentals/logs).
  *   Check the [Node Troubleshooting](/builders/node-operators/management/troubleshooting) guide for a list of common node operator problems and solutions.
</Steps>

## Monitor Your Node

It is important to regularly monitor your node and optionally setup prometheus and grafana dashboard settings to make this process easier for you.

<Steps>
  {<h3>Enable the Metrics Port</h3>}

  *   Enable the [metrics port](https://docs.optimism.io/builders/node-operators/management/metrics) for your node by passing the `--metrics.enabled` flag to `op-node`.
  *   Optionally, you can customize the metrics port and address via the `--metrics.port` and `--metrics.addr` flags, respectively.

  {<h3>Setup influxDB & Prometheus</h3>}

  *   Setup [influxdb](https://geth.ethereum.org/docs/monitoring/dashboards#setting-up-influxdb) to monitor geth.
  *   Setup [prometheus](https://geth.ethereum.org/docs/monitoring/dashboards#setting-up-prometheus) to read your endpoint.

  {<h3>Setup Your Grafana Dashboard</h3>}

  *   [Enable the metrics](https://geth.ethereum.org/docs/monitoring/dashboards#preparing-geth) in geth.
  *   Setup your [grafana dashboard](https://geth.ethereum.org/docs/monitoring/dashboards#setting-up-grafana) to provide UI for metrics.
  *   Optionally,  you can [customize your dashboards](https://geth.ethereum.org/docs/monitoring/dashboards#customization).
</Steps>

## Follow Node Updates

*   It's important to keep your node software up to date to ensure that you won't fall out of sync with other OP Mainnet nodes when there's an upgrade.
    Software updates can also include important bug fixes and patches that can help keep your node stable.
*   Refer to the [Software Releases](/builders/node-operators/releases) page for a detailed look at the latest releases of various Rollup Node and Execution Client implementations.
*   Notifications about important updates are also posted to the [**@Optimism Twitter account**](https://twitter.com/optimism), and to the [**Node & Protocol Announcements Channel on Telegram**](https://t.me/+caq1Ukfp29c0Mzcx).

## Node Operator Tutorials

<Callout>
  Got an idea for a new tutorial?
  We'd love to hear it.
  Head over to GitHub to [suggest a new tutorial](https://github.com/ethereum-optimism/docs/issues/new?assignees=\&labels=tutorial%2Cdocumentation%2Ccommunity-request\&projects=\&template=suggest_tutorial.yaml\&title=%5BTUTORIAL%5D+Add+PR+title).
</Callout>

| Tutorial Name                                               | Description                                            | Difficulty Level |
| ----------------------------------------------------------- | ------------------------------------------------------ | ---------------- |
| [Running a Node With Docker](tutorials/node-from-docker)    | Learn how to run a node with Docker.                   | 游릭 Easy          |
| [Building a Node From Source](tutorials/node-from-source)   | Learn how to compile node components from source code. | 游릭 Easy          |
| [Running an OP Mainnet Node from Source](tutorials/mainnet) | Learn how to run an OP Mainnet node from source code.  | 游리 Medium        |
| [Running an OP Sepolia Node from Source](tutorials/testnet) | Learn how to run an OP Sepolia node from source code.  | 游리 Medium        |

## Next Steps

*   If you've already got your node up and running, check out the [Node Metrics and Monitoring Guide](./management/metrics) to learn how to keep tabs on your node and make sure it keeps running smoothly.
*   If you run into any problems, please visit the [Node Troubleshooting Guide](./management/troubleshooting) for help.
