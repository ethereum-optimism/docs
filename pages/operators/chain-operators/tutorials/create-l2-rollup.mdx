---
title: Creating your own L2 rollup testnet
description: Learn how to deploy and orchestrate all OP Stack components for a complete testnet deployment.
lang: en-US
content_type: tutorial
topic: creating-your-own-l2-rollup-testnet
personas:
  - chain-operator
categories:
  - testnet
  - chain-deployment
  - op-deployer
  - sequencer
  - batcher
  - proposer
  - challenger
  - integration
is_imported_content: 'false'
---

import { Callout, Card, Steps } from 'nextra/components'

# Creating your own L2 rollup testnet

Welcome to the complete guide for deploying your own OP Stack L2 rollup testnet. This multi-part tutorial will walk you through each component step-by-step, from initial setup to a fully functioning rollup.

## What You'll Build

By the end of this tutorial, you'll have a complete OP Stack testnet with:

*   **L1 Smart Contracts** deployed on Sepolia testnet
*   **Execution Client** (op-geth) processing transactions
*   **Consensus Client** (op-node) managing rollup consensus
*   **Batcher** (op-batcher) publishing transaction data to L1
*   **Proposer** (op-proposer) submitting state root proposals
*   **Challenger** (op-challenger) monitoring for disputes

## Before you start

### Software dependencies

| Dependency                                                    | Version  | Version Check Command |
| ------------------------------------------------------------- | -------- | --------------------- |
| [git](https://git-scm.com/)                                   | `^2`     | `git --version`       |
| [go](https://go.dev/)                                         | `^1.21`  | `go version`          |
| [node](https://nodejs.org/en/)                                | `^20`    | `node --version`      |
| [pnpm](https://pnpm.io/installation)                          | `^8`     | `pnpm --version`      |
| [foundry](https://github.com/foundry-rs/foundry#installation) | `^0.2.0` | `forge --version`     |
| [make](https://linux.die.net/man/1/make)                      | `^3`     | `make --version`      |
| [jq](https://github.com/jqlang/jq)                            | `^1.6`   | `jq --version`        |
| [direnv](https://direnv.net)                                  | `^2`     | `direnv --version`    |

### Notes on specific dependencies

<Callout type="info">
Expand each dependency below for details
</Callout>

<details>
<summary><code>node</code></summary>

We recommend using the latest LTS version of Node.js (currently v20).  
[`nvm`](https://github.com/nvm-sh/nvm) is a useful tool that can help you manage multiple versions of Node.js on your machine.  
You may experience unexpected errors on older versions of Node.js.

</details>

<details>
<summary><code>foundry</code></summary>

It's recommended to use the scripts in the monorepo's `package.json` for managing `foundry` to ensure you're always working with the correct version.  
This approach simplifies the installation, update, and version checking process.  
Make sure to clone the monorepo locally before proceeding.

</details>

<details>
<summary><code>direnv</code></summary>

Parts of this tutorial use [`direnv`](https://direnv.net) as a way of loading environment variables from `.envrc` files into your shell.  
This means you won't have to manually export environment variables every time you want to use them.  
`direnv` only ever has access to files that you explicitly allow it to see.

After [installing `direnv`](https://direnv.net/docs/installation.html), you will need to **make sure that [`direnv` is hooked into your shell](https://direnv.net/docs/hook.html)**.  
Make sure you've followed [the guide on the `direnv` website](https://direnv.net/docs/hook.html), then **close your terminal and reopen it** so that the changes take effect (or `source` your config file if you know how to do that).

<Callout>
Make sure that you have correctly hooked `direnv` into your shell by modifying your shell configuration file (like `~/.bashrc` or `~/.zshrc`).  
If you haven't edited a config file then you probably haven't configured `direnv` properly (and things might not work later).
</Callout>

</details>
### Get access to a sepolia node

You'll be deploying a OP Stack Rollup chain that uses a Layer 1 blockchain to host and order transaction data.
The OP Stack Rollups were designed to use EVM Equivalent blockchains like Ethereum, OP Mainnet, or standard Ethereum testnets as their L1 chains.

**This guide uses the Sepolia testnet as an L1 chain**.
We recommend that you also use Sepolia.
You can also use other EVM-compatible blockchains, but you may run into unexpected errors.
If you want to use an alternative network, make sure to carefully review each command and replace any Sepolia-specific values with the values for your network.

Since you're deploying your OP Stack chain to Sepolia, you'll need to have access to a Sepolia node.
You can either use a node provider like [Alchemy](https://www.alchemy.com/) (easier) or run your own Sepolia node (harder).

### Required Resources

*   **Sepolia ETH** - Get from [Superchain Faucet](https://console.optimism.io/faucet) (\~2-3 ETH recommended)
*   **Private Keys** - You'll need 5 separate keys for different roles (we'll generate these in the first step)
*   **L1 RPC URL** - An RPC endpoint to connect to the Sepolia network. You can get this from node providers like [Alchemy](https://www.alchemy.com/), [Infura](https://www.infura.io/). This is required so `op-deployer` and other services can read from and send transactions to L1.  
*   **L1 Beacon URL** - A consensus-layer endpoint for Sepolia. This comes from your node provider or your own beacon node. It allows components like `op-node` to verify the L1 chain’s consensus state.


<Callout type="warning">
  **Testnet Only**: This guide is for **testnet deployment only**. Never use the generated keys or configurations in production environments.
</Callout>

<Callout type="info">
  **Follow in Order**: Each step builds on the previous one. Start with spinning up op-deployer and complete them sequentially for the best experience.
</Callout>


## Tutorial Overview

This tutorial is organized into sequential steps that build upon each other:

<Steps>
  ### **[Spin up op-deployer](/operators/chain-operators/tutorials/create-l2-rollup/op-deployer-setup)**

  Install op-deployer, deploy L1 contracts, and prepare your environment

  ### **[Spin up sequencer](/operators/chain-operators/tutorials/create-l2-rollup/op-geth-setup)**

  Set up and run op-geth and op-node (the execution and consensus layers)

  ### **[Spin up batcher](/operators/chain-operators/tutorials/create-l2-rollup/op-batcher-setup)**

  Configure and start op-batcher for L1 data publishing

  ### **[Spin up proposer](/operators/chain-operators/tutorials/create-l2-rollup/op-proposer-setup)**

  Set up op-proposer for state root submissions

  ### **[Spin up challenger](/operators/chain-operators/tutorials/create-l2-rollup/op-challenger-setup)**

  Configure op-challenger for dispute resolution monitoring
</Steps>


## Ready to Start?

Now that you understand what you'll be building, let's begin with the first step!

<Card title="Spin up op-deployer →" href="/operators/chain-operators/tutorials/create-l2-rollup/op-deployer-setup">
  Already have your dependencies? Get started and spin up op-deployer
</Card>

***

## Need Help?

*   **Community Support**: Join the [Optimism Discord](https://discord.gg/optimism)
*   **Development Questions**: Visit [Developer Support](https://github.com/ethereum-optimism/developers/discussions)
*   **Issues**: Report bugs on [GitHub](https://github.com/ethereum-optimism/optimism/issues)
