---
title: Deploy L1 contracts with op-deployer
description: Install op-deployer, prepare your environment, and deploy the L1 smart contracts for your rollup.
lang: en-US
content_type: tutorial
topic: create-l2-rollup-setup
personas:
  - chain-operator
categories:
  - testnet
  - chain-deployment
  - op-deployer
is_imported_content: 'false'
---

import {Callout, Steps, Card, Tabs} from 'nextra/components'

# Deploy L1 contracts with op-deployer

Welcome to the first step of creating your own L2 rollup testnet! In this section, you'll install the op-deployer tool and deploy the necessary L1 smart contracts for your rollup.

<Callout type="info">
  **Step 1 of 5**: This tutorial is designed to be followed step-by-step. Each step builds on the previous one.
</Callout>

## About op-deployer

`op-deployer` simplifies the process of deploying the OP Stack. You define a declarative config file called an "**intent**," then run a command to apply it. `op-deployer` compares your chain's current state against the intent and makes the necessary changes to match.

## Installation

There are a couple of ways to install `op-deployer`:

<Tabs items={['Download pre-built binary (Recommended)', 'Build from source']}>
  <Tabs.Tab>
    The recommended way to install `op-deployer` is to download the latest release from the monorepo's [release page](https://github.com/ethereum-optimism/optimism/releases).

    <Steps>
      ### Download the correct binary

      1.  Go to the [release page](https://github.com/ethereum-optimism/optimism/releases)
      2.  Use the search bar to find the latest release that includes `op-deployer`.
      3.  Under **assets**, download the binary that matches your system:

      *   For Linux: `op-deployer-linux-amd64`
      *   For macOS:
          *   Apple Silicon (M1/M2): `op-deployer-darwin-arm64`
          *   Intel processors: `op-deployer-darwin-amd64`
      *   For Windows: `op-deployer-windows-amd64.exe`

      <Callout type="info">
        Not sure which macOS version to use?

        *   Open Terminal and run `uname -m`
        *   If it shows `arm64`, use the arm64 version
        *   If it shows `x86_64`, use the amd64 version
      </Callout>

      ### Create deployer directory and install binary

      1.  Create and enter a directory for op-deployer:

      ```bash
      # Create and enter the deployer directory
      mkdir deployer && cd deployer
      ```

      2.  Move and rename the downloaded binary:

      <Callout>
        The downloaded file is likely in your Downloads folder:

        *   macOS/Linux: `/Users/YOUR_USERNAME/Downloads`
        *   Windows WSL: `/mnt/c/Users/YOUR_USERNAME/Downloads`
      </Callout>

      ```bash
      # Move the downloaded file (replace USERNAME with your username)
      mv /Users/USERNAME/Downloads/op-deployer-0.2.6-darwin-arm64.tar.gz* op-deployer

      # Create a bin directory if it doesn't exist
        mkdir -p ~/bin
        
        # Move the binary
        mv op-deployer ~/bin/
        
        # Add to PATH if not already added (add this to your ~/.bashrc or ~/.zshrc)
        export PATH=$PATH:~/bin
      ```

      <Callout type="warning">
        **For macOS Users**: If you get a security warning from your OS:

        ```bash
        # Run this command to allow the binary
        xattr -d com.apple.quarantine ~/bin/op-deployer
        ```
      </Callout>

      ### Verify installation

      ```bash
      op-deployer --version
      ```
    </Steps>
  </Tabs.Tab>

  <Tabs.Tab>
    To install from source, you will need [Go](https://go.dev/doc/install), `just`, and `git`.
    After installing all of that, run following:

    ```bash
    git clone https://github.com/ethereum-optimism/optimism.git # you can skip this if you already have the repo
    cd optimism/op-deployer
    just build
    cp ./bin/op-deployer /usr/local/bin/op-deployer # or any other directory in your $PATH

    # Verify installation
    op-deployer --version
    ```
  </Tabs.Tab>
</Tabs>

## L1 network requirements

Before deploying your L1 contracts, you'll need:

1.  **L1 RPC URL**: An Ethereum RPC endpoint for your chosen L1 network

    ```bash
    # Examples:
    # Sepolia (recommended for testing)
    L1_RPC_URL=https://sepolia.infura.io/v3/YOUR-PROJECT-ID
    # or https://eth-sepolia.g.alchemy.com/v2/YOUR-API-KEY

    # Local network
    L1_RPC_URL=http://localhost:8545
    ```

    <Callout type="info">
      For testing, we recommend using Sepolia testnet. You can get free RPC access from:

      *   [Infura](https://infura.io) (create account, get API key)
      *   [Alchemy](https://alchemy.com) (create account, get API key)
      *   [Ankr](https://ankr.com) (create account, get API key)
    </Callout>

## Generate deployment keys

Your rollup needs several key pairs for different roles. Let's generate them first:

<Steps>
  ### Create keys directory

  ```bash
  mkdir -p keys
  cd keys
  ```

  ### Generate keys for each role

  ```bash
  # Generate 7 new Ethereum accounts
  for role in base_Fee_Vault_Recipient l1_Fee_Vault_Recipient sequencer_Fee_Vault_Recipient system_config unsafe_block_signer batcher proposer ; do
      wallet_output=$(cast wallet new)
      echo "$wallet_output" | grep "Address:" | awk '{print $2}' > ${role}_address.txt
      echo "Created wallet for $role"
  done
  ```

  Save the addresses for your intent file
</Steps>

<Callout type="warning">
  **Important**:

  *   Save these keys securely - you'll need them to operate your chain
  *   For production, use proper key management solutions (HSMs, multisigs)
</Callout>

## Create and configure intent file

The intent file defines your chain's configuration.

<Steps>
  ### Initialize intent file

  Inside the `deployer` folder, run this command:

  ```bash
  #You can use a 2-7 digit random number for your `<YOUR_CHAIN_ID>` 
  op-deployer init \
    --l1-chain-id 11155111 \
    --l2-chain-ids <YOUR_CHAIN_ID> \
    --workdir .deployer \
    --intent-type standard-overrides
  ```

  <details>
    <summary>Understanding intent types</summary>

    `op-deployer` supports three intent types:

    *   `standard`: Uses default OP Stack configuration, minimal customization
    *   `standard-overrides`: Recommended. Uses defaults but allows overriding specific values
    *   `custom`: Full customization, requires manual configuration of all values

    For most users, `standard-overrides` provides the best balance of simplicity and flexibility.
  </details>

  ### Update the intent file

  Edit `.deployer/intent.toml` with your generated addresses:

  ```toml
  configType = "standard-overrides"
  l1ChainID = 11155111  # Sepolia
  fundDevAccounts = false  # Set to false for production/testnet
  useInterop = false
  l1ContractsLocator = "tag://op-contracts/v2.0.0"
  l2ContractsLocator = "tag://op-contracts/v1.7.0-beta.1+l2-contracts"

  [superchainRoles]
    proxyAdminOwner = "0x..."     # admin address
    protocolVersionsOwner = "0x..." # admin address
    guardian = "0x..."            # admin address

  [[chains]]
    id = "0x000000000000000000000000000000000000000000000000000000000016de8d"
    baseFeeVaultRecipient = "0x..."    # base_Fee_Vault_Recipient address
    l1FeeVaultRecipient = "0x..."      # l1_Fee_Vault_Recipient address
    sequencerFeeVaultRecipient = "0x..." # sequencer_Fee_Vault_Recipient address
    eip1559DenominatorCanyon = 250
    eip1559Denominator = 50
    eip1559Elasticity = 6
    [chains.roles]
      l1ProxyAdminOwner = "0x1eb2ffc903729a0f03966b917003800b145f56e2"
      l2ProxyAdminOwner = "0x2fc3ffc903729a0f03966b917003800b145f67f3"     
      systemConfigOwner = "0x..."      # system_config address
      unsafeBlockSigner = "0x..."      # unsafe_block_signer address
      batcher = "0x..."               # batcher address
      proposer = "0x..."              # proposer address
      challenger = "0xfd1d2e729ae8eee2e146c033bf4400fe75284301"
  ```

  <details>
    <summary>Understanding the configuration values</summary>

    **Global Settings:**

    *   `l1ChainID`: The L1 network ID (11155111 for Sepolia)
    *   `fundDevAccounts`: Creates test accounts with ETH if true
    *   `useInterop`: Enable interoperability features
    *   `l1ContractsLocator`: Version of L1 contracts to deploy
    *   `l2ContractsLocator`: Version of L2 contracts to deploy

    **Superchain Roles:**

    *   `proxyAdminOwner`: Can upgrade Superchain-wide contracts
    *   `protocolVersionsOwner`: Can update protocol versions
    *   `guardian`: Can pause withdrawals and manage disputes

    **Chain Configuration:**

    *   `id`: Unique identifier for your chain
    *   `*FeeVaultRecipient`: Addresses receiving various fees
    *   `eip1559*`: Parameters for gas price calculation

    **Chain Roles:**

    *   `l1ProxyAdminOwner`: Updates L1 contract implementations
    *   `l2ProxyAdminOwner`: Updates L2 contract implementations
    *   `systemConfigOwner`: Manages system configuration
    *   `unsafeBlockSigner`: Signs pre-confirmation blocks
    *   `batcher`: Submits L2 transactions to L1
    *   `proposer`: Submits L2 state roots to L1
    *   `challenger`: Monitors and challenges invalid states
  </details>
</Steps>

<Callout type="warning">
  Replace all `0x...` with actual addresses from your `addresses.txt` file.
  Never use the default test mnemonic addresses in production or public testnets!
</Callout>

## Create environment file

Before deploying, create a `.env` file in your `deployer` directory to store your sensitive configuration:

```bash
# Create .env file
cat << 'EOF' > .env
# Your L1 RPC URL (e.g., from Alchemy, Infura)
L1_RPC_URL=https://eth-sepolia.g.alchemy.com/v2/YOUR_API_KEY

# Private key for deployment.
# Get this from your self-custody wallet, like Metamask.
PRIVATE_KEY= WALLET_PRIVATE_KEY
EOF
```

<Callout type="warning">
  Never commit your `.env` file to version control. Add it to your `.gitignore`:

  ```bash
  echo ".env" >> .gitignore
  ```
</Callout>

Load the environment variables:

```bash
source .env
```

## Deploy L1 Contracts

Now that your intent file and environment variables are configured, let's deploy the L1 contracts:

```bash
op-deployer apply \
  --workdir .deployer \
  --l1-rpc-url $L1_RPC_URL \
  --private-key $PRIVATE_KEY
```

This will:

1.  Deploy all required L1 contracts
2.  Configure them according to your intent file
3.  Save deployment information to `.deployer/state.json`

<Callout type="info">
  The deployment can take 10-15 seconds and requires multiple transactions.
</Callout>

## Generate chain configuration

After successful deployment, generate your chain configuration files:

```bash
# Generate genesis and rollup configs
op-deployer inspect genesis --workdir .deployer <YOUR_CHAIN_ID> > .deployer/genesis.json
op-deployer inspect rollup --workdir .deployer <YOUR_CHAIN_ID> > .deployer/rollup.json

# Get L1 contract addresses (save these!)
op-deployer inspect l1 --workdir .deployer <YOUR_CHAIN_ID> > .deployer/l1-contracts.json
```

## What's Next?

Great! You've successfully:

1.  Installed `op-deployer`
2.  Generated necessary key pairs
3.  Created and configured your intent file
4.  Deployed L1 smart contracts
5.  Generated chain configuration files

Now you can move on to setting up your sequencer node.

<Card title="Spin up sequencer →" href="./op-geth-setup">
  **Next**: Set up op-geth and op-node, essential building blocks of the execution and consensus layers in your rollup.
</Card>

***

## Need Help?

*   **Community Support**: Join the [Optimism Discord](https://discord.gg/optimism)
*   **op-deployer Repository**: [GitHub](https://github.com/ethereum-optimism/optimism/tree/develop/op-deployer/cmd/op-deployer)
*   **OPCM Documentation**: [OP Contracts Manager](/stack/opcm)
